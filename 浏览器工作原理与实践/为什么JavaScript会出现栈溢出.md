# 为什么JavaScript会出现栈溢出

## 什么叫调用栈？

JavaScript中有很多函数，经常会出现在一个函数中调用另一个函数的情况，**调用栈就是用来管理函数调用关系的一种数据结构。**

## 什么是函数调用？

函数调用就是运行一个函数，具体使用方式是使用函数名称跟着一对小括号。

```js
var a = 2;
function add(){
	var b = 10;
	returm a+b;
}
add();
```

这段代码很简单，显示创建了一个add函数，接着在代码的最下面又调用了该函数。

**在执行到函数add()之前，JavaScript引擎会为上面这段代码创建全局执行上下文，包含了声明的函数和变量。执行上下文准备好之后，便开始执行全局代码，当执行到add这儿时，JavaScript判断这是一个函数调用，将执行以下操作：**

* 首先，从全局执行环境中取出add函数代码
* 其次，对add函数这段代码进行编译，并创建该函数的执行上下文和可执行代码
* 最后，执行代码，输出结果

因此当执行到add函数的时候，我们就有了两个执行上下文了。

就是说在执行JavaScript时，可能会存在多个执行上下文，**JavaScript是通过一种叫做栈的数据结构来管理执行上下文的。**

## 什么是栈?

栈是一种满足**后进先出**特点的数据结构。

## 什么是JavaScript的调用栈？

JavaScript引擎正是利用栈的这种结构来管理执行上下文的。在执行上下文创建好后，JavaScript引擎会将执行上下文压入栈中，通常把这种用来管理执行上下文的栈称为**执行上下文栈**，又称**调用栈**。

**调用栈是JavaScript引擎追踪函数执行的一个机制**，当一次有多个函数被调用时，通过调用栈就能够追踪到哪个函数正在被执行以及各函数之间的调用关系。

## 栈溢出

我们已经知道了调用栈是一种用来管理执行上下文的数据结构，符合后进先出的规则。不过还有一点要注意，调用栈是有大小的，当入栈的执行上下文超过一定数目，JavaScript引擎就会报错，我们一般把这种错误叫做**栈溢出**。

