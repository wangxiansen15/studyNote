# 在HTML中使用JavaScript

## `<script>`元素

插入JavaScript的主要方法是使用`<script>` 元素。

六个属性（可选）

* async

  异步下载，只对外部脚本有用。表示立即下载脚本，但不妨碍页面中的其他操作。不一定按顺序执行，最好只用一个js文件。立即下载。指定async属性的目的是为了不让页面等待脚本下载和执行，从而异步加载页面的其他内容

* charset

  设置js字符集，出现乱码可能会用到（基本用不到）

* defer

  延迟执行，只对外部脚本有效。表示脚本可以延迟到文档完全被解析和显示之后再执行。在现实中，不一定按顺序执行，最好只用一个js文件。延迟到整个页面都解析完毕后再运行。立即下载延迟执行

* language

  已废弃，原来用来表示编写代码使用的脚本语言

* src

  表示需要下载的脚本地址。不一定是js文件

* type

  表示编写代码使用的脚本语言的内容类型

### 嵌入式

包含在`<script>`元素内部的JavaScript代码将被从上至下依次**解释**, 在解释器对`<script>`内部元素的所有代码求值完毕之前，页面中的其余内容都不会被浏览器加载或显示。

解释：预处理--->执行

在嵌入式代码中，不要再代码中的任何地方出现**”</script> “**字符串。因为在遇到字符串"</script>"时，会认为是结束的</script>标签要通过转义字符'\'来解决这个问题。例如：<\/script>

###  外联式

要对script进行闭合

如果在外联式的`</script>` 中写js代码，内嵌代码会被忽略

### 跨域

script元素可以包含来自外部域的js文件。但对于访问不在自己服务器上的js文件时，一定要小心。

### 执行顺序

只要不存在defer域async属性，浏览器都会按照<script>元素在页面中出现的先后顺序对他们一次解析（阻断式的）

### 标签的位置

一般放在页面的最下面

先把页面呈现給用户，然后在去加载js文件、

## 嵌入代码与外部文件

外部文件的优点

* 可维护性

  当一个js文件被多个html引用，只需要改一个js文件就可以实现维护

* 可缓存

  好几个页面用到了同一个js文件，浏览器会自动缓存下来，提高访问速率。

* 适应未来

  外部文件包含js文件不需要使用XHTML或注释hack

浅入代码优点

不需要根据链接去服务器找到相应的文件下载，可以提升性能